{"version":3,"sources":["images/bgStadium.jpg","facetrack.js","components/lights.js","images/char_idle.png","images/char_blockL.png","images/char_blockR.png","textures.js","hooks/useStore.js","components/GameManager.js","hooks/useInterval.js","Ball.js","components/Gauge.js","images/UI_Metter_Container.png","images/UI_Score.png","components/Gauge2.js","images/UI_Launch_Inactive.png","images/UI_Launch_BG.jpg","images/UI_PlayAgain_Inactive.png","images/UI_Loading.png","images/bg3.jpg","images/fg3.png","images/splash_03_champ.png","images/splash_02_mavsman.png","images/Masketball_Logo-svg.png","images/UI_Results_BG.png","images/UI_Thanks.png","images/UI_Instruction_BG.png","images/UI_Instruction1.png","images/UI_Instruction2.png","components/AppManager.js","images/UI_Score_Graphic.png","components/ScorePrompt.js","images/UI_RapidFire_Graphic.png","components/RFirePrompt.js","components/Scene.js","components/Mascots.js","components/Hoop.js","App.js","index.js"],"names":["model","ctx","videoWidth","videoHeight","video","canvas","browsCt","browsAvg","browsRoll","rollSize","i","first","outputScale","browsRaisedEvent","Event","trackingReadyEvent","state","setupCamera","a","document","getElementById","navigator","mediaDevices","getUserMedia","audio","facingMode","stream","srcObject","Promise","resolve","onloadedmetadata","renderPrediction","estimateFaces","predictions","radius","width","save","beginPath","arc","height","Math","PI","strokeStyle","stroke","clip","drawImage","restore","length","forEach","prediction","keypoints","scaledMesh","fillStyle","dispatchEvent","requestAnimationFrame","tf","play","querySelector","style","zIndex","getContext","translate","scale","lineWidth","facemesh","maxFaces","KeyLight","brightness","color","intensity","position","lookAt","penumbra","castShadow","char_idle","TextureLoader","load","idleImg","char_blockL","blockLImg","char_blockR","blockRImg","appStates","gaugePositions","useStore","create","set","appState","setAppState","x","timerRunning","setTimerRunning","gaugeRunning","setGaugeRunning","gaugeColor","setGaugeColor","rapidFire","setRapidFire","ballReady","setBallReady","gaugePosition","setGaugePosition","timeLeft","resetTime","decTime","toFixed","points","resetPoints","inc","charTexture","setCharTexture","scorePActive","setScorePActive","rFirePActive","setRFirePActive","ctdown","setCtdown","GameManager","props","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","streakCounter","BallIn","group","useLoader","GLTFLoader","nodes","materials","animations","actions","useState","THREE","mixer","idle","clipAction","setLoop","LoopOnce","uncacheClip","useFrame","delta","ballActive","reset","setTimeout","shotBuffering","limitingShots","update","ref","dispose","name","geometry","ball","material","rotation","BallOutL","guageRunning","BallOutR","BallRapid","toast","ballNum","RapidBalls","Array","fill","map","_","Balls","handleBrowsRaised","event","React","addEventListener","Gauge","time","clock","getElapsedTime","sin","args","attach","Gauge2","className","backgroundImage","top","backgroundSize","transform","fontSize","fontWeight","bottom","left","textAlign","src","gauge","alt","AppManager","mavsIn","setMavsIn","spring","useSpring","config","mass","tension","friction","precision","mavPositionX","to","mavPositionY","champPositionX","champPositionY","loaded","setLoaded","handleTrackingReady","isMounted","console","log","startIntro","startCountdown","startGame","playAgainButton","onClick","endScreen","thankyou","logo","launchButton","instructionsScreen","instruct1","instruct2","bgImg","img","mavsman","champ","fgImg","background","loadingButton","ScorePrompt","opacity","score","RFirePrompt","fire","Model","bGTex","require","BG","useGLTF","transparent","Supports","RoyalBlue","Base","Mat","Arm","White","AdSpace2","Backboard_Padding","BackBoard_Base_1","BackBoard_Base","BackBoard_Glass","BG_logo","RimGuard","orange","RimBack","Rim","Net","App","camera","onCreated","fallback","main","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.d47ee82e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bgStadium.aff34f7d.jpg\";","import * as facemesh from \"@tensorflow-models/facemesh\";\r\nimport * as tf from \"@tensorflow/tfjs-core\";\r\n// import Stats from \"stats.js\";\r\n\r\nlet model, ctx, videoWidth, videoHeight, video, canvas;\r\nlet browsCt = 0;\r\nlet browsAvg = 0;\r\nlet browsRoll = [];\r\nlet rollSize = 20;\r\nfor (let i = 0; i < rollSize; i++) {\r\n  browsRoll[i] = 0;\r\n}\r\nlet first = true;\r\n\r\nconst outputScale = 1.6; // higher is smaller\r\nconst outputZoom = 2.5; // 2 is no zoom\r\n\r\nconst browsRaisedEvent = new Event('browsRaised');\r\nconst trackingReadyEvent = new Event('trackingReady');\r\n\r\n// const stats = new Stats();\r\nconst state = {\r\n  backend: \"webgl\",\r\n  maxFaces: 1,\r\n  triangulateMesh: false\r\n};\r\n\r\nasync function setupCamera() {\r\n  video = document.getElementById(\"video\");\r\n  const stream = await navigator.mediaDevices.getUserMedia({\r\n    audio: false,\r\n    video: {\r\n      facingMode: \"user\"\r\n    }\r\n  });\r\n  video.srcObject = stream;\r\n  return new Promise((resolve) => {\r\n    video.onloadedmetadata = () => {\r\n      resolve(video);\r\n    };\r\n  });\r\n}\r\nasync function renderPrediction() {\r\n  // stats.begin();\r\n  const predictions = await model.estimateFaces(video);\r\n\r\n  let radius = canvas.width / outputZoom;\r\n  ctx.save();\r\n  ctx.beginPath();\r\n  ctx.arc(canvas.width / 2, canvas.height / 2, radius, 0, 2 * Math.PI);\r\n\r\n  ctx.strokeStyle = \"blue\";\r\n  ctx.stroke();\r\n  ctx.clip();\r\n\r\n  ctx.drawImage(\r\n    video,\r\n    0,\r\n    0,\r\n    videoWidth,\r\n    videoHeight,\r\n    0,\r\n    0,\r\n    canvas.width,\r\n    canvas.height\r\n  );\r\n  ctx.restore();\r\n  ctx.stroke();\r\n\r\n  //442 258\r\n  if (predictions.length > 0) {\r\n    predictions.forEach((prediction) => {\r\n      const keypoints = prediction.scaledMesh;\r\n      browsRoll[browsCt] = keypoints[257][1] - keypoints[443][1];\r\n      if (browsRoll[browsCt] > browsAvg + 0.5) {\r\n        ctx.fillStyle = \"#00ff00\";\r\n        if (first) {\r\n          first = false;\r\n          // setTimeout(function(){ first = true }, 1000);\r\n          document.dispatchEvent(browsRaisedEvent);\r\n        }\r\n      } else {\r\n        ctx.fillStyle = \"#ffffff\"; \r\n        first= true\r\n      }\r\n      browsCt++;\r\n      if (browsCt >= rollSize) browsCt = 0;\r\n      browsAvg = 0;\r\n      for (var i = 0; i < rollSize; i++) browsAvg += browsRoll[i];\r\n      browsAvg /= rollSize;\r\n\r\n      // THIS IS WHERE DRAWING HAPPENS\r\n      // for (let i = 0; i < keypoints.length; i++) {\r\n      //   const x = keypoints[i][0];\r\n      //   const y = keypoints[i][1];\r\n      //   ctx.beginPath();\r\n      //   ctx.arc(x/outputScale, y/outputScale, 1 /* radius */, 0, 2 * Math.PI);\r\n      //   ctx.fill();\r\n      // }\r\n    });\r\n  }\r\n  // stats.end();\r\n  requestAnimationFrame(renderPrediction);\r\n}\r\nexport async function main() {\r\n  await tf.setBackend(state.backend);\r\n  // stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\r\n  // document.getElementById(\"main\").appendChild(stats.dom);\r\n  await setupCamera();\r\n  video.play();\r\n  videoWidth = video.videoWidth;\r\n  videoHeight = video.videoHeight;\r\n  video.width = videoWidth;\r\n  video.height = videoHeight;\r\n  canvas = document.getElementById(\"output\");\r\n  canvas.width = videoWidth/outputScale;\r\n  canvas.height = videoHeight/outputScale;\r\n  const canvasContainer = document.querySelector(\".canvas-wrapper\");\r\n  canvasContainer.style = `width: ${videoWidth}px; height: ${videoHeight}px`;\r\n  canvas.style.zIndex = 1;\r\n  ctx = canvas.getContext(\"2d\");\r\n  ctx.translate(canvas.width, 0);\r\n  ctx.scale(-1, 1);\r\n  ctx.fillStyle = \"#32EEDB\";\r\n  ctx.strokeStyle = \"blue\";\r\n  ctx.lineWidth = 0.5;\r\n  model = await facemesh.load({ maxFaces: state.maxFaces });\r\n  document.dispatchEvent(trackingReadyEvent);\r\n  renderPrediction();\r\n}","import React from 'react';\r\n\r\nexport const KeyLight = ({ brightness, color }) => {\r\n  return (\r\n    <rectAreaLight\r\n      width={3}\r\n      height={3}\r\n      color={color}\r\n      intensity={brightness}\r\n      position={[-2, 0, 5]}\r\n      lookAt={[0, 0, 0]}\r\n      penumbra={1}\r\n      castShadow\r\n    />\r\n  );\r\n}\r\nexport const FillLight = ({ brightness, color }) => {\r\n  return (\r\n    <rectAreaLight\r\n      width={3}\r\n      height={3}\r\n      intensity={brightness}\r\n      color={color}\r\n      position={[2, 1, 4]}\r\n      lookAt={[0, 0, 0]}\r\n      penumbra={2}\r\n      castShadow\r\n    />\r\n  );\r\n}\r\n\r\nexport const RimLight = ({ brightness, color }) => {\r\n  return (\r\n    <rectAreaLight\r\n      width={2}\r\n      height={2}\r\n      intensity={brightness}\r\n      color={color}\r\n      position={[1, 4, -2]}\r\n      rotation={[0, 180, 0]}\r\n      castShadow\r\n    />\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/char_idle.dab3eee1.png\";","export default __webpack_public_path__ + \"static/media/char_blockL.7e0fc539.png\";","export default __webpack_public_path__ + \"static/media/char_blockR.04afed8a.png\";","import idleImg from './images/char_idle.png';\r\nimport blockLImg from './images/char_blockL.png';\r\nimport blockRImg from './images/char_blockR.png';\r\nimport { TextureLoader } from 'three';\r\n\r\nexport const char_idle = new TextureLoader().load(idleImg);\r\nexport const char_blockL = new TextureLoader().load(blockLImg);\r\nexport const char_blockR = new TextureLoader().load(blockRImg);","import create from 'zustand';\r\nimport {char_idle} from '../textures';\r\n\r\nconst appStates= {\r\n  SPLASH: 'splash',\r\n  DIRECTIONS: 'directions',\r\n  COUNTDOWN: 'countdown',\r\n  PLAYING: 'playing',\r\n  END: 'end',\r\n  PHOTOTAKEN: 'phototaken'\r\n}\r\n\r\nconst gaugePositions= {\r\n  LEFT: 'left',\r\n  MIDDLE: 'middle',\r\n  RIGHT: 'right'\r\n}\r\n\r\nconst gameLength = 24;\r\n\r\nexport const useStore = create((set) => ({\r\n  appState: appStates.SPLASH,\r\n  setAppState: (x) => set((state) => ({ appState: x})),\r\n  timerRunning: false,\r\n  setTimerRunning: (x) => set((state) => ({ timerRunning: x})),\r\n  gaugeRunning: false,\r\n  setGaugeRunning: (x) => set((state) => ({ gaugeRunning: x})),\r\n  gaugeColor: 'hotpink',\r\n  setGaugeColor: (x) => set((state) => ({ gaugeColor: x})),\r\n  rapidFire: false,\r\n  setRapidFire: (x) => set((state) => ({ rapidFire: x})),\r\n  ballReady: true,\r\n  setBallReady: (x) => set((state) => ({ ballReady: x })),\r\n  gaugePosition: gaugePositions.LEFT,\r\n  setGaugePosition: (x) => set((state) => ({ gaugePosition: x})),\r\n  timeLeft: gameLength,\r\n  resetTime: () => set((state) => ({ timeLeft: gameLength})),\r\n  decTime: () => {\r\n    set((state) => ({ timeLeft: (state.timeLeft - .1).toFixed(1)}));\r\n  },\r\n  points: 0,\r\n  resetPoints: () => set((state) => ({points: state.points = 0})),\r\n  inc: () => set((state) => ({ points: state.points + 2})),\r\n  charTexture: char_idle,\r\n  setCharTexture: (x) => set((state) => ({charTexture: x})),\r\n  scorePActive: 0,\r\n  setScorePActive: (x) => set((state) => ({scorePActive: x})),\r\n  rFirePActive: 0,\r\n  setRFirePActive: (x) => set((state) => ({rFirePActive: x})),\r\n  ctdown: \"\",\r\n  setCtdown: (x) => set((state) => ({ctdown: x})),\r\n}));","import React from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport { Text } from '@react-three/drei';\r\nimport { useInterval } from '../hooks/useInterval';\r\n\r\nconst appStates= {\r\n  SPLASH: 'splash',\r\n  DIRECTIONS: 'directions',\r\n  COUNTDOWN: 'countdown',\r\n  PLAYING: 'playing',\r\n  END: 'end',\r\n  PHOTOTAKEN: 'phototaken'\r\n}\r\n\r\nexport const GameManager = (props) => {\r\n  const [ timeLeft, decTime, points, appState, setAppState, setGaugeRunning ] = useStore((state) => [\r\n    state.timeLeft,\r\n    state.decTime,\r\n    state.points,\r\n    state.appState,\r\n    state.setAppState,\r\n    state.setGaugeRunning,\r\n  ]);\r\n  useInterval(\r\n    () => {\r\n      if(appState === appStates.PLAYING){\r\n        decTime();\r\n        if(timeLeft <= 0.1){\r\n          setAppState(appStates.END);\r\n          setGaugeRunning(false);\r\n        }\r\n      }\r\n    },\r\n    100,\r\n  );\r\n  return null;\r\n  // (\r\n  //   <group position={[.5,3,0]}>\r\n  //     <Text\r\n  //       fontSize={.7}\r\n  //       color=\"black\" // default\r\n  //       anchorX=\"left\" // default\r\n  //       anchorY=\"bottom\" // default\r\n  //       outlineWidth={.05}\r\n  //       outlineColor=\"#ffffff\"\r\n  //     >\r\n  //       {`${timeLeft}\\n${points}`}\r\n  //     </Text>\r\n  //   </group>\r\n  // );\r\n}","import { useRef, useEffect } from 'react';\r\nexport const useInterval = (callback, delay) => {\r\n  const savedCallback = useRef();\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  });\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      if (typeof savedCallback?.current !== 'undefined') {\r\n        savedCallback.current();\r\n      }\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n};","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\nimport { LoopOnce } from \"three\"\r\nimport { useStore } from './hooks/useStore';\r\nimport {char_idle, char_blockL, char_blockR} from './textures';\r\n\r\nlet streakCounter = 0;\r\n\r\nfunction BallIn({ ...props }) {\r\n  const group = useRef()\r\n  const [inc, gaugePosition, gaugeRunning, setGaugeColor, setRapidFire, rapidFire, setScorePActive, setRFirePActive] = useStore((state) => [\r\n    state.inc,\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.setGaugeColor,\r\n    state.setRapidFire,\r\n    state.rapidFire,\r\n    state.setScorePActive,\r\n    state.setRFirePActive\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimW.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    if(gaugeRunning && !rapidFire && gaugePosition === \"center\" && ballActive >= 0){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setGaugeColor('green');\r\n        setScorePActive(1);\r\n        setTimeout(function() { setGaugeColor('hotpink') }, 200);\r\n        setTimeout(function() { inc(); setScorePActive(0); }, 750);\r\n        streakCounter++;\r\n        if(streakCounter===2){\r\n          setGaugeColor('lightblue');\r\n          setTimeout(function() { setGaugeColor('lightblue') }, 201);\r\n          setRapidFire(true);\r\n          setRFirePActive(1);\r\n          shotBuffering = false;\r\n          limitingShots = false;\r\n          setTimeout(function() { setRapidFire(false); streakCounter=0; limitingShots=true; setRFirePActive(0); }, 3000);\r\n        }\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh\r\n        name=\"ball\"\r\n        geometry={nodes.ball.geometry}\r\n        material={materials.ball}\r\n        rotation={[Math.PI / 2, Math.PI / 2, 0]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction BallOutL({ ...props }) {\r\n  const group = useRef()\r\n  const [gaugePosition, guageRunning, setGaugeColor, rapidFire, setCharTexture] = useStore((state) => [\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.setGaugeColor,\r\n    state.rapidFire,\r\n    state.setCharTexture\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimRblock.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    // if(gaugePosition === \"center\" && props.toast === ballActive){\r\n      if(guageRunning && !rapidFire && gaugePosition === \"left\" && ballActive >= 0){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setGaugeColor('red');\r\n        setTimeout(function() { setGaugeColor('hotpink') }, 200);\r\n        setTimeout(function() { setCharTexture(char_blockL) }, 200);\r\n        setTimeout(function() { setCharTexture(char_idle) }, 400);\r\n        streakCounter=0;\r\n        // inc();\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group position={[-0.83, 28.21, 154.68]}>\r\n        <group rotation={[-0.02, 0, 0]} scale={[1, 1, 1]}>\r\n          <group rotation={[0, Math.PI / 2, 0]} />\r\n        </group>\r\n      </group>\r\n      <mesh\r\n        name=\"ball\"\r\n        material={materials.ball}\r\n        geometry={nodes.ball.geometry}\r\n        rotation={[-Math.PI / 2, -Math.PI / 2, 0]}\r\n        scale={[1, 1, 1]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction BallOutR({ ...props }) {\r\n  const group = useRef()\r\n  const [gaugePosition, guageRunning, setGaugeColor, rapidFire, setCharTexture] = useStore((state) => [\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.setGaugeColor,\r\n    state.rapidFire,\r\n    state.setCharTexture\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimLblock.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    // if(gaugePosition === \"center\" && props.toast === ballActive){\r\n      if(guageRunning && !rapidFire && gaugePosition === \"right\" && ballActive >= 0){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setGaugeColor('red');\r\n        setTimeout(function() { setGaugeColor('hotpink') }, 200);\r\n        setTimeout(function() { setCharTexture(char_blockR) }, 200);\r\n        setTimeout(function() { setCharTexture(char_idle) }, 400);\r\n        streakCounter=0;\r\n        // inc();\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group position={[-0.83, 28.21, 154.68]}>\r\n        <group rotation={[-0.02, 0, 0]} scale={[1, 1, 1]}>\r\n          <group rotation={[0, Math.PI / 2, 0]} />\r\n        </group>\r\n      </group>\r\n      <mesh\r\n        name=\"ball\"\r\n        material={materials.ball}\r\n        geometry={nodes.ball.geometry}\r\n        rotation={[-Math.PI / 2, -Math.PI / 2, 0]}\r\n        scale={[1, 1, 1]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction BallRapid({ ...props }) {\r\n  const group = useRef()\r\n  const [inc, rapidFire] = useStore((state) => [\r\n    state.inc,\r\n    state.rapidFire\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimW.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    if(rapidFire && ballActive === props.toast){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setTimeout(function() { inc() }, 750);\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh\r\n        name=\"ball\"\r\n        geometry={nodes.ball.geometry}\r\n        material={materials.ball}\r\n        rotation={[Math.PI / 2, Math.PI / 2, 0]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\n\r\nlet ballNum = 0;\r\nlet ballActive = -1;\r\nconst ballIterations = 5;\r\n\r\nfunction RapidBalls(){\r\n  return new Array(ballIterations).fill().map((_, i) => {\r\n    return <BallRapid key={i} toast={i} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]}/>\r\n  })\r\n}\r\n\r\nlet limitingShots = true;\r\nlet shotBuffering = false;\r\n\r\nexport function Balls() {\r\n  const handleBrowsRaised = (event) => {\r\n      if(!shotBuffering){\r\n        ballActive = ballNum;\r\n        ballNum++;\r\n        if(ballNum>=ballIterations) ballNum = 0;\r\n        shotBuffering=true;\r\n        if(limitingShots){\r\n          setTimeout(function() { shotBuffering=false }, 1000);\r\n        } else {\r\n          setTimeout(function() { shotBuffering=false }, 100);\r\n        }\r\n      }\r\n\r\n  };\r\n  React.useEffect(() => {\r\n    document.addEventListener('browsRaised', handleBrowsRaised);\r\n    return () => {\r\n      document.addEventListener('browsRaised', handleBrowsRaised);\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <BallOutL toast={0} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\r\n      <BallOutR toast={0} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\r\n      <BallIn toast={1} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\r\n      <RapidBalls />\r\n    </>\r\n  )\r\n  // return new Array(ballIterations).fill().map((_, i) => {\r\n  //   return <Ball key={i} toast={i} />\r\n  // })\r\n}","import React, { useRef, useState } from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport { useFrame } from 'react-three-fiber';\r\nimport { Circle, Plane } from '@react-three/drei';\r\n// import * as THREE from \"three\"\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nconst gaugePositions= {\r\n  LEFT: 'left',\r\n  CENTER: 'center',\r\n  RIGHT: 'right'\r\n}\r\n\r\nexport const Gauge = (props) => {\r\n  const [setGaugePosition, gaugePosition, gaugeRunning, gaugeColor, rapidFire] = useStore((state) => [\r\n    state.setGaugePosition,\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.gaugeColor,\r\n    state.rapidFire\r\n  ]);\r\n  const ref = useRef();\r\n\r\n  useFrame((state) => {\r\n    if(gaugeRunning === true){\r\n      if(!rapidFire){\r\n        const time = state.clock.getElapsedTime();\r\n        ref.current = Math.sin(time*2);\r\n      }\r\n      else{\r\n        ref.current = 0;\r\n      }\r\n      if(gaugePosition!==gaugePositions.CENTER && ref.current>-.5 && ref.current<.5){\r\n        setGaugePosition(gaugePositions.CENTER);\r\n      } else if(gaugePosition!==gaugePositions.LEFT && ref.current>=.5){\r\n        setGaugePosition(gaugePositions.LEFT);\r\n      } else if(gaugePosition!==gaugePositions.RIGHT && ref.current<=-.5){\r\n        setGaugePosition(gaugePositions.RIGHT);\r\n      }\r\n    }\r\n  })\r\n\r\n\r\n  return (\r\n    <group ref={ref} position={[0,0,10]}>\r\n      <Circle args={[1.5, 64]}>\r\n        <Plane args={[.4, .4]} rotation={[0,0,.8]} position={[0,1.45,.1]} >\r\n          <meshBasicMaterial attach=\"material\" color={gaugeColor} />\r\n        </Plane>\r\n      </Circle>\r\n      <Circle args={[1.1, 64]} position={[0,0,.2]} rotation={[0,0,ref.current]}>\r\n        <meshBasicMaterial attach=\"material\" color=\"blue\" />\r\n        <Plane args={[.2, .2]} rotation={[0,0,.8]} position={[0,1.45,.1]} >\r\n          <meshBasicMaterial attach=\"material\" color=\"blue\" />\r\n        </Plane>\r\n      </Circle>\r\n    </group>\r\n  );\r\n}\r\n\r\n//1.2 to -1.2","export default __webpack_public_path__ + \"static/media/UI_Metter_Container.7e84b92e.png\";","export default __webpack_public_path__ + \"static/media/UI_Score.296aeb23.png\";","import React, { useState } from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport gauge from '../images/UI_Metter_Container.png'\r\nimport top from '../images/UI_Score.png'\r\n\r\nexport const Gauge2 = (props) => {\r\n  const [timeLeft, points, ctdown] = useStore((state) => [\r\n    state.timeLeft,\r\n    state.points,\r\n    state.ctdown,\r\n  ]);\r\n  return(\r\n    <div>\r\n      <div className=\"score-time\" style={{ backgroundImage: `url(${top})`, backgroundSize: '100% 100%', position: 'absolute', width: '100%', height: '50vw', top: 0, zIndex: 1, transform: 'translate(0%, -50%)'}} >\r\n        <div style={{ color: '#004f91', fontSize: '5vw', fontWeight: 'bold', position: 'absolute', bottom: '16%', left: '26%'}} >{timeLeft}</div>\r\n        <div style={{ color: '#43cbe8', fontSize: '4vw', fontWeight: 'bold', position: 'absolute', bottom: '19%', left: '65%'}} >{points}</div>\r\n      </div>\r\n      <div className='centered' style={{ textAlign: 'center', color: 'white', fontSize: '40vw', fontWeight: 'bold', zIndex: 9}}>\r\n        {ctdown}\r\n      </div>\r\n      <img style={{position: 'absolute', width: '100%', bottom: 0, zIndex: 1, transform: 'translate(0%, 30%)'}} src={gauge} alt=\"splash screen\" />\r\n    </div>\r\n  )\r\n}                                     ","export default __webpack_public_path__ + \"static/media/UI_Launch_Inactive.f1000456.png\";","export default __webpack_public_path__ + \"static/media/UI_Launch_BG.f2ab948a.jpg\";","export default __webpack_public_path__ + \"static/media/UI_PlayAgain_Inactive.a3a73649.png\";","export default __webpack_public_path__ + \"static/media/UI_Loading.1c95f9ff.png\";","export default __webpack_public_path__ + \"static/media/bg3.e9170e43.jpg\";","export default __webpack_public_path__ + \"static/media/fg3.575d1a82.png\";","export default __webpack_public_path__ + \"static/media/splash_03_champ.a4a56bcc.png\";","export default __webpack_public_path__ + \"static/media/splash_02_mavsman.3e013948.png\";","export default __webpack_public_path__ + \"static/media/Masketball_Logo-svg.7a9d1d95.png\";","export default __webpack_public_path__ + \"static/media/UI_Results_BG.957141be.png\";","export default __webpack_public_path__ + \"static/media/UI_Thanks.ec6527ab.png\";","export default __webpack_public_path__ + \"static/media/UI_Instruction_BG.5836e9b3.png\";","export default __webpack_public_path__ + \"static/media/UI_Instruction1.08c1c331.png\";","export default __webpack_public_path__ + \"static/media/UI_Instruction2.38b7e80f.png\";","import React, { useState, useRef, useFrame } from 'react';\r\nimport * as THREE from 'three'\r\nimport { useStore } from '../hooks/useStore';\r\nimport {useSpring, animated} from 'react-spring'\r\nimport splash from '../images/UI_Launch_BG.jpg'\r\nimport launchButton from '../images/UI_Launch_Inactive.png'\r\nimport playAgainButton from '../images/UI_PlayAgain_Inactive.png'\r\nimport loadingButton from '../images/UI_Loading.png'\r\nimport bgImg from '../images/bg3.jpg'\r\nimport fgImg from '../images/fg3.png'\r\nimport champ from '../images/splash_03_champ.png'\r\nimport mavsman from '../images/splash_02_mavsman.png'\r\nimport logo from '../images/Masketball_Logo-svg.png'\r\nimport endScreen from '../images/UI_Results_BG.png'\r\nimport thankyou from '../images/UI_Thanks.png'\r\nimport instructionsScreen from '../images/UI_Instruction_BG.png'\r\nimport instruct1 from '../images/UI_Instruction1.png'\r\nimport instruct2 from '../images/UI_Instruction2.png'\r\n\r\n\r\n\r\nconst appStates= {\r\n  SPLASH: 'splash',\r\n  DIRECTIONS: 'directions',\r\n  COUNTDOWN: 'countdown',\r\n  PLAYING: 'playing',\r\n  END: 'end',\r\n  PHOTOTAKEN: 'phototaken'\r\n}\r\n\r\nexport const AppManager = (props) => {\r\n  const [setAppState, appState, setTimerRunning, resetTime, resetPoints, setGaugeRunning, setCtdown] = useStore((state) => [\r\n    state.setAppState,\r\n    state.appState,\r\n    state.setTimerRunning,\r\n    state.resetTime,\r\n    state.resetPoints,\r\n    state.setGaugeRunning,\r\n    state.setCtdown,\r\n  ]);\r\n\r\n  const [mavsIn, setMavsIn] = useState(0);\r\n\r\n  const { spring } = useSpring({\r\n    spring: mavsIn,\r\n    config: { mass: 1, tension: 410, friction: 60, precision: 0.001 }\r\n  })\r\n\r\n  const mavPositionX = spring.to([0, 1], ['-50%', '50%'])\r\n  const mavPositionY = spring.to([0, 1], ['100%', '50%'])\r\n  const champPositionX = spring.to([0, 1], ['100%', '50%'])\r\n  const champPositionY = spring.to([0, 1], ['-70%', '50%'])\r\n\r\n  const [loaded, setLoaded] = useState(false)\r\n  const handleTrackingReady = (event) => {\r\n    setLoaded(true);\r\n  };\r\n  React.useEffect(() => {\r\n    document.addEventListener('trackingReady', handleTrackingReady);\r\n    return () => {\r\n      document.addEventListener('trackingReady', handleTrackingReady);\r\n    };\r\n  }, []);\r\n\r\n  const isMounted = useRef(false);\r\n\r\n  React.useEffect(() => {\r\n    if (isMounted.current) {\r\n      console.log('fetching');\r\n      startIntro();\r\n    } else {\r\n      console.log('prep')\r\n      isMounted.current = true;\r\n    }\r\n  }, [loaded]);\r\n\r\n  const startIntro = () => {\r\n    setMavsIn(0);\r\n    setTimeout(function() { \r\n      setMavsIn(1);\r\n      console.log('now');\r\n    }, 2000);\r\n  }\r\n\r\n  const startCountdown = () =>{\r\n    setAppState(appStates.COUNTDOWN);\r\n    resetTime();\r\n    resetPoints();\r\n    setTimeout(function() { \r\n      setCtdown('3');\r\n      setTimeout(function() { \r\n        setCtdown('2');\r\n        setTimeout(function() { \r\n          setCtdown('1');\r\n          setTimeout(function() { \r\n            setCtdown('');\r\n            startGame();\r\n          }, 1000);\r\n        }, 1000);\r\n      }, 1000);\r\n    }, 200);\r\n  }\r\n  const startGame = () =>{\r\n    setAppState(appStates.PLAYING);\r\n    setTimerRunning(true);\r\n    setGaugeRunning(true);\r\n  }\r\n  if(appState === appStates.PLAYING){\r\n    return null;\r\n  } else if (appState === appStates.END){\r\n    return(\r\n      <div className=\"splash\">\r\n        <img className=\"centered button\" src={playAgainButton} alt=\"splash screen\" onClick={()=>startCountdown()}/>\r\n        <img className=\"centered\" src={endScreen} alt=\"splash screen\" />\r\n        <img className=\"centered\" style={{top: '40%', width: '60vw'}} src={thankyou} alt=\"thank you\" />\r\n      </div> \r\n    )\r\n  } else if (appState === appStates.COUNTDOWN){\r\n    return(\r\n      null\r\n    )\r\n  } else if (appState === appStates.DIRECTIONS){\r\n    return(\r\n      <div className=\"splash\">\r\n        <img className=\"centered\" src={logo} style={{width: '80vw', transform: 'translate(-50%, -190%)', zIndex: '14'}} alt=\"splash screen\" />\r\n        <img className=\"centered button\" src={launchButton} alt=\"splash screen\" onClick={()=>startCountdown()}/>\r\n        <img className=\"centered\" src={instructionsScreen} alt=\"splash screen\" />\r\n        <img className=\"centered\" style={{top: '45%', width: '60vw'}} src={instruct1} alt=\"thank you\" />\r\n        <img className=\"centered\" style={{top: '55%', width: '60vw'}} src={instruct2} alt=\"thank you\" />\r\n      </div> \r\n    )\r\n  } else if (!loaded){\r\n    return(\r\n      <div style={{background: '#004f91', position: 'absolute', width: '100%', height: '100%', zIndex: 99999,}} >\r\n        <div className=\"dial-container\" style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(0%, -50%)'}}>\r\n          <div className=\"wedge\" ></div>\r\n        </div>\r\n        <img className=\"centered button\" src={loadingButton} alt=\"splash screen\" />\r\n      </div>\r\n    )\r\n  }\r\n    return(\r\n      <div className=\"containeralt\">\r\n        <img className=\"sliding-background\" src={bgImg} style={{position: 'absolute'}} alt=\"splash screen\" />\r\n        <animated.img className=\"centered\" src={mavsman} style={{left: mavPositionX, top: mavPositionY, transform: 'translate(-65%, -45%)' }} alt=\"splash screen\" />\r\n        <animated.img className=\"centered\" src={champ} style={{left: champPositionX, top: champPositionY, transform: 'translate(-45%, -20%)'}} alt=\"splash screen\" />\r\n        <img className=\"sliding-foreground\" style={{position: 'absolute', top: 0}} src={fgImg} alt=\"splash screen\" />\r\n        <img className=\"centered\" src={logo} style={{width: '80vw', transform: 'translate(-50%, -190%)', zIndex: '14'}} alt=\"splash screen\" />\r\n        <img className=\"centered button\" src={launchButton} alt=\"splash screen\" onClick={()=>setAppState(appStates.DIRECTIONS)}/>\r\n        {/* <div className=\"splash\">\r\n          <img className=\"centered\" src={splash} alt=\"splash screen\" />\r\n        </div> */}\r\n      </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/UI_Score_Graphic.f40fb469.png\";","import React, { useState } from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport score from '../images/UI_Score_Graphic.png'\r\nimport {useSpring, animated} from 'react-spring'\r\n\r\n\r\nexport const ScorePrompt = (props) => {\r\n  const [scorePActive,] = useStore((state) => [\r\n    state.scorePActive,\r\n  ]);\r\n\r\n  const { spring } = useSpring({\r\n    spring: scorePActive,\r\n    config: { mass: 5, tension: 800, friction: 50, precision: 0.0001 }\r\n  })\r\n\r\n  const scale = spring.to([0, 1], ['0%', '120%'])\r\n  const opacity = spring.to([0, 1], [0, 1])\r\n\r\n  return(\r\n    <div className=\"splash\">\r\n      <animated.img className='centered' src={score} alt=\"score!\" style={{opacity: opacity, width: scale}}  />\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/UI_RapidFire_Graphic.808ab6cd.png\";","import React from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport fire from '../images/UI_RapidFire_Graphic.png'\r\nimport {useSpring, animated} from 'react-spring'\r\n\r\n\r\nexport const RFirePrompt = (props) => {\r\n  const [rFirePActive,] = useStore((state) => [\r\n    state.rFirePActive,\r\n  ]);\r\n\r\n  const { spring } = useSpring({\r\n    spring: rFirePActive,\r\n    config: { mass: 5, tension: 800, friction: 50, precision: 0.0001 }\r\n  })\r\n\r\n  const scale = spring.to([0, 1], ['0%', '120%'])\r\n  const opacity = spring.to([0, 1], [0, 1])\r\n\r\n  return(\r\n    <div className=\"splash\">\r\n      <animated.img className='centered' src={fire} alt=\"Rapid Fire!\" style={{opacity: opacity, width: scale}}  />\r\n    </div>\r\n  )\r\n}","\r\nimport React, { useRef } from \"react\"\r\nimport { useLoader } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\nimport { TextureLoader } from 'three';\r\n// import { useGLTF } from \"@react-three/drei\"\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nexport default function Model(props) {\r\n  const group = useRef()\r\n  // const { nodes, materials } = useGLTF(\"./masketball_Scene.glb\");\r\n  const { nodes } = useLoader(GLTFLoader, \"./masketball_Scene.glb\");\r\n  const bGTex = new TextureLoader().load(require('../images/bgStadium.jpg'));\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh geometry={nodes.BG.geometry} position={[-4.28, 46.92, 233.72]} >\r\n        <meshStandardMaterial attach=\"material\" map={bGTex} />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}","import React, { useRef } from \"react\"\r\nimport { useGLTF } from \"@react-three/drei\"\r\nimport { useStore } from '../hooks/useStore';\r\n// import * as textures from '../textures';\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nexport default function Model(props) {\r\n  const [charTexture] = useStore((state) => [\r\n    state.charTexture\r\n  ]);\r\n  const group = useRef()\r\n  // const { nodes, materials } = useLoader(GLTFLoader, '/mblank_CharStill.glb');\r\n  const { nodes } = useGLTF(\"./masketball_CharStill.glb\");\r\n  // const [bL, id, bR] = useTexture(['/char_blockL.png','/char_idle.png','/char_blockR.png']);\r\n  // const textures=[bL,id,bR];\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh geometry={nodes.char_idle.geometry} position={[-7, 29.81, 63.85]} >\r\n       <meshStandardMaterial attach=\"material\" map={charTexture} transparent={true}/>\r\n      </mesh>\r\n      {/* <meshMatcapMaterial matcap={texture} attach=\"material\" /> */}\r\n    </group>\r\n  )\r\n}","import React, { useRef } from \"react\"\r\nimport { useLoader } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n// import { useGLTF } from \"@react-three/drei\"\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nexport default function Model(props) {\r\n  const group = useRef()\r\n  // const { nodes, materials } = useGLTF(\"./masketball_Scene.glb\");\r\n  const { nodes, materials } = useLoader(GLTFLoader, \"./masketball_Basket.glb\");\r\n  \r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group position={[0, -34.74, -303.84]} rotation={[0, Math.PI / 2, 0]}>\r\n        <group position={[-91.6, 59.94, 0.2]} rotation={[-Math.PI, 0, -Math.PI]}>\r\n          <mesh\r\n            geometry={nodes.Supports.geometry}\r\n            material={materials.RoyalBlue}\r\n            position={[15.99, 38.02, 0.01]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.Base.geometry}\r\n            material={materials.Mat}\r\n            position={[-34.9, -42.75, 0.01]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.Arm.geometry}\r\n            material={materials.White}\r\n            position={[22.11, 6.62, 0.01]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.AdSpace2.geometry}\r\n            material={materials.Mat}\r\n            position={[-15.12, 10.07, -0.04]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n        </group>\r\n        <group position={[-108.71, 146.57, 0.11]} rotation={[0, 0, 0]}>\r\n          <mesh\r\n            geometry={nodes.Backboard_Padding.geometry}\r\n            material={materials.RoyalBlue}\r\n            position={[-1.17, -27.33, 0]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.BackBoard_Base_1.geometry}\r\n            material={materials.White}\r\n            position={[-0.85, 1.48, 0]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.BackBoard_Base.geometry}\r\n            material={materials.White}\r\n            position={[-0.85, 13.84, 0]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.BackBoard_Glass.geometry}\r\n            material={materials.BG_logo}\r\n            position={[2.02, 13.5, 0]}\r\n            rotation={[0, 0, -Math.PI / 2]}\r\n          />\r\n        </group>\r\n        <group position={[-117.57, 114.99, 0.11]}>\r\n          <mesh\r\n            geometry={nodes.RimGuard.geometry}\r\n            material={materials.orange}\r\n            position={[-21.94, 29.63, 0.28]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.RimBack.geometry}\r\n            material={materials.orange}\r\n            position={[-3, -5.26, 0.26]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.Rim.geometry}\r\n            material={materials.orange}\r\n            position={[-12.51, -3.69, -0.28]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n          <mesh\r\n            geometry={nodes.Net.geometry}\r\n            material={materials.White}\r\n            position={[-11.64, -15.68, 0.14]}\r\n            rotation={[0, 0, 0]}\r\n          />\r\n        </group>\r\n      </group>\r\n    </group>\r\n  )\r\n}","import React, { Suspense } from 'react';\nimport { Canvas } from 'react-three-fiber';\nimport { OrbitControls } from \"@react-three/drei\";\n\nimport { KeyLight, FillLight, RimLight } from './components/lights';\nimport { GameManager } from './components/GameManager'\nimport { Balls } from './Ball'\nimport { Gauge } from './components/Gauge'\nimport { Gauge2 } from './components/Gauge2'\nimport { AppManager } from './components/AppManager'\nimport { ScorePrompt } from './components/ScorePrompt'\nimport { RFirePrompt } from './components/RFirePrompt'\nimport Scene from './components/Scene'\nimport Mascots from './components/Mascots'\nimport Hoop from './components/Hoop'\n\nimport \"./index.css\";\n\n\nexport default function App() {\n  return (\n    <>\n      <AppManager />\n      <ScorePrompt />\n      <RFirePrompt />\n      <Gauge2 />\n      <Canvas camera={{ position: [0,4,3] }} onCreated={({ camera }) => {camera.lookAt(0,4,0)}}>\n        <GameManager />\n        {/* <OrbitControls /> */}\n        <ambientLight intensity={0.5} />\n        <KeyLight brightness={56} color=\"#ffbdf4\" />\n        {/* <FillLight brightness={2.6} color=\"#bdefff\" /> */}\n        {/* <RimLight brightness={54} color=\"#fff\" /> */}\n        <Suspense fallback={null}>\n          <Balls />\n          <Scene scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\n          <Mascots scale={[.1,.1,.1]} rotation={[0,Math.PI,0]}/>\n          <Hoop scale={[.1,.1,.1]} />\n          <Gauge />\n        </Suspense>\n      </Canvas>\n    </>\n  );\n}\n\n//scale={[.1,.1,.5]} rotation={[0,Math.PI,0]}","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {main} from './facetrack'\n\nimport App from \"./App\";\n\nmain();\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}