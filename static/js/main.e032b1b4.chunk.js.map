{"version":3,"sources":["facetrack.js","components/lights.js","images/char_idle.png","images/char_blockL.png","images/char_blockR.png","textures.js","hooks/useStore.js","components/GameManager.js","hooks/useInterval.js","Ball.js","components/Gauge.js","images/UI_Launch_BG.jpg","images/UI_Launch_Inactive.png","images/UI_PlayAgain_Inactive.png","components/AppManager.js","components/Scene.js","components/Mascots.js","App.js","index.js"],"names":["model","ctx","videoWidth","videoHeight","video","canvas","browsCt","browsAvg","browsRoll","rollSize","i","first","browsRaisedEvent","Event","state","setupCamera","a","document","getElementById","navigator","mediaDevices","getUserMedia","audio","facingMode","stream","srcObject","Promise","resolve","onloadedmetadata","renderPrediction","estimateFaces","predictions","drawImage","width","height","length","forEach","prediction","keypoints","scaledMesh","fillStyle","dispatchEvent","requestAnimationFrame","tf","play","querySelector","style","getContext","translate","scale","strokeStyle","lineWidth","facemesh","maxFaces","KeyLight","brightness","color","intensity","position","lookAt","penumbra","castShadow","FillLight","RimLight","rotation","char_idle","TextureLoader","load","idleImg","char_blockL","blockLImg","char_blockR","blockRImg","appStates","gaugePositions","useStore","create","set","appState","setAppState","x","timerRunning","setTimerRunning","gaugeRunning","setGaugeRunning","gaugeColor","setGaugeColor","rapidFire","setRapidFire","ballReady","setBallReady","gaugePosition","setGaugePosition","timeLeft","resetTime","decTime","toFixed","points","resetPoints","inc","charTexture","setCharTexture","GameManager","props","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","Text","fontSize","anchorX","anchorY","outlineWidth","outlineColor","streakCounter","BallIn","group","useLoader","GLTFLoader","nodes","materials","animations","actions","useState","THREE","mixer","idle","clipAction","setLoop","LoopOnce","clip","uncacheClip","useFrame","delta","ballActive","reset","setTimeout","shotBuffering","limitingShots","update","ref","dispose","name","geometry","ball","material","Math","PI","BallOutL","guageRunning","BallOutR","BallRapid","toast","ballNum","RapidBalls","Array","fill","map","_","Balls","handleBrowsRaised","event","React","addEventListener","Gauge","time","clock","getElapsedTime","sin","args","attach","AppManager","startGame","className","src","playAgainButton","alt","onClick","splash","launchButton","Model","Mesh002","RoyalBlue","Mesh002_1","White","Mesh002_2","BG_logo","Mesh","Mesh_1","net","floor","bg","useGLTF","transparent","App","camera","onCreated","fallback","main","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.e032b1b4.chunk.js","sourcesContent":["import * as facemesh from \"@tensorflow-models/facemesh\";\r\nimport * as tf from \"@tensorflow/tfjs-core\";\r\n// import Stats from \"stats.js\";\r\n\r\nlet model, ctx, videoWidth, videoHeight, video, canvas;\r\nlet browsCt = 0;\r\nlet browsAvg = 0;\r\nlet browsRoll = [];\r\nlet rollSize = 20;\r\nfor (let i = 0; i < rollSize; i++) {\r\n  browsRoll[i] = 0;\r\n}\r\nlet first = true;\r\n\r\nlet outputScale = 4;\r\n\r\nconst browsRaisedEvent = new Event('browsRaised');\r\n\r\n// const stats = new Stats();\r\nconst state = {\r\n  backend: \"webgl\",\r\n  maxFaces: 1,\r\n  triangulateMesh: false\r\n};\r\n\r\nasync function setupCamera() {\r\n  video = document.getElementById(\"video\");\r\n  const stream = await navigator.mediaDevices.getUserMedia({\r\n    audio: false,\r\n    video: {\r\n      facingMode: \"user\"\r\n    }\r\n  });\r\n  video.srcObject = stream;\r\n  return new Promise((resolve) => {\r\n    video.onloadedmetadata = () => {\r\n      resolve(video);\r\n    };\r\n  });\r\n}\r\nasync function renderPrediction() {\r\n  // stats.begin();\r\n  const predictions = await model.estimateFaces(video);\r\n  ctx.drawImage(\r\n    video,\r\n    0,\r\n    0,\r\n    videoWidth,\r\n    videoHeight,\r\n    0,\r\n    0,\r\n    canvas.width,\r\n    canvas.height\r\n  );\r\n  //442 258\r\n  if (predictions.length > 0) {\r\n    predictions.forEach((prediction) => {\r\n      const keypoints = prediction.scaledMesh;\r\n      browsRoll[browsCt] = keypoints[257][1] - keypoints[443][1];\r\n      if (browsRoll[browsCt] > browsAvg + 0.5) {\r\n        ctx.fillStyle = \"#00ff00\";\r\n        if (first) {\r\n          first = false;\r\n          // setTimeout(function(){ first = true }, 1000);\r\n          document.dispatchEvent(browsRaisedEvent);\r\n        }\r\n      } else {\r\n        ctx.fillStyle = \"#ffffff\"; \r\n        first= true\r\n      }\r\n      browsCt++;\r\n      if (browsCt >= rollSize) browsCt = 0;\r\n      browsAvg = 0;\r\n      for (var i = 0; i < rollSize; i++) browsAvg += browsRoll[i];\r\n      browsAvg /= rollSize;\r\n\r\n      // THIS IS WHERE DRAWING HAPPENS\r\n      // for (let i = 0; i < keypoints.length; i++) {\r\n      //   const x = keypoints[i][0];\r\n      //   const y = keypoints[i][1];\r\n      //   ctx.beginPath();\r\n      //   ctx.arc(x/outputScale, y/outputScale, 1 /* radius */, 0, 2 * Math.PI);\r\n      //   ctx.fill();\r\n      // }\r\n    });\r\n  }\r\n  // stats.end();\r\n  requestAnimationFrame(renderPrediction);\r\n}\r\nexport async function main() {\r\n  await tf.setBackend(state.backend);\r\n  // stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\r\n  // document.getElementById(\"main\").appendChild(stats.dom);\r\n  await setupCamera();\r\n  video.play();\r\n  videoWidth = video.videoWidth;\r\n  videoHeight = video.videoHeight;\r\n  video.width = videoWidth;\r\n  video.height = videoHeight;\r\n  canvas = document.getElementById(\"output\");\r\n  canvas.width = videoWidth/outputScale;\r\n  canvas.height = videoHeight/outputScale;\r\n  const canvasContainer = document.querySelector(\".canvas-wrapper\");\r\n  canvasContainer.style = `width: ${videoWidth}px; height: ${videoHeight}px`;\r\n  ctx = canvas.getContext(\"2d\");\r\n  ctx.translate(canvas.width, 0);\r\n  ctx.scale(-1, 1);\r\n  ctx.fillStyle = \"#32EEDB\";\r\n  ctx.strokeStyle = \"#32EEDB\";\r\n  ctx.lineWidth = 0.5;\r\n  model = await facemesh.load({ maxFaces: state.maxFaces });\r\n  renderPrediction();\r\n}","import React from 'react';\r\n\r\nexport const KeyLight = ({ brightness, color }) => {\r\n  return (\r\n    <rectAreaLight\r\n      width={3}\r\n      height={3}\r\n      color={color}\r\n      intensity={brightness}\r\n      position={[-2, 0, 5]}\r\n      lookAt={[0, 0, 0]}\r\n      penumbra={1}\r\n      castShadow\r\n    />\r\n  );\r\n}\r\nexport const FillLight = ({ brightness, color }) => {\r\n  return (\r\n    <rectAreaLight\r\n      width={3}\r\n      height={3}\r\n      intensity={brightness}\r\n      color={color}\r\n      position={[2, 1, 4]}\r\n      lookAt={[0, 0, 0]}\r\n      penumbra={2}\r\n      castShadow\r\n    />\r\n  );\r\n}\r\n\r\nexport const RimLight = ({ brightness, color }) => {\r\n  return (\r\n    <rectAreaLight\r\n      width={2}\r\n      height={2}\r\n      intensity={brightness}\r\n      color={color}\r\n      position={[1, 4, -2]}\r\n      rotation={[0, 180, 0]}\r\n      castShadow\r\n    />\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/char_idle.b764698b.png\";","export default __webpack_public_path__ + \"static/media/char_blockL.cc6e41f4.png\";","export default __webpack_public_path__ + \"static/media/char_blockR.1fa0758d.png\";","import idleImg from './images/char_idle.png';\r\nimport blockLImg from './images/char_blockL.png';\r\nimport blockRImg from './images/char_blockR.png';\r\nimport { TextureLoader } from 'three';\r\n\r\nexport const char_idle = new TextureLoader().load(idleImg);\r\nexport const char_blockL = new TextureLoader().load(blockLImg);\r\nexport const char_blockR = new TextureLoader().load(blockRImg);","import create from 'zustand';\r\nimport {char_idle} from '../textures';\r\n\r\nconst appStates= {\r\n  SPLASH: 'splash',\r\n  DIRECTIONS: 'directions',\r\n  COUNTDOWN: 'countdown',\r\n  PLAYING: 'playing',\r\n  END: 'end',\r\n  PHOTOTAKEN: 'phototaken'\r\n}\r\n\r\nconst gaugePositions= {\r\n  LEFT: 'left',\r\n  MIDDLE: 'middle',\r\n  RIGHT: 'right'\r\n}\r\n\r\nconst gameLength = 30;\r\n\r\nexport const useStore = create((set) => ({\r\n  appState: appStates.SPLASH,\r\n  setAppState: (x) => set((state) => ({ appState: x})),\r\n  timerRunning: false,\r\n  setTimerRunning: (x) => set((state) => ({ timerRunning: x})),\r\n  gaugeRunning: false,\r\n  setGaugeRunning: (x) => set((state) => ({ gaugeRunning: x})),\r\n  gaugeColor: 'hotpink',\r\n  setGaugeColor: (x) => set((state) => ({ gaugeColor: x})),\r\n  rapidFire: false,\r\n  setRapidFire: (x) => set((state) => ({ rapidFire: x})),\r\n  ballReady: true,\r\n  setBallReady: (x) => set((state) => ({ ballReady: x })),\r\n  gaugePosition: gaugePositions.LEFT,\r\n  setGaugePosition: (x) => set((state) => ({ gaugePosition: x})),\r\n  timeLeft: gameLength,\r\n  resetTime: () => set((state) => ({ timeLeft: gameLength})),\r\n  decTime: () => {\r\n    set((state) => ({ timeLeft: (state.timeLeft - .1).toFixed(1)}));\r\n  },\r\n  points: 0,\r\n  resetPoints: () => set((state) => ({points: state.points = 0})),\r\n  inc: () => set((state) => ({ points: state.points + 2})),\r\n  charTexture: char_idle,\r\n  setCharTexture: (x) => set((state) => ({charTexture: x})),\r\n}));","import React from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport { Text } from '@react-three/drei';\r\nimport { useInterval } from '../hooks/useInterval';\r\n\r\nconst appStates= {\r\n  SPLASH: 'splash',\r\n  DIRECTIONS: 'directions',\r\n  COUNTDOWN: 'countdown',\r\n  PLAYING: 'playing',\r\n  END: 'end',\r\n  PHOTOTAKEN: 'phototaken'\r\n}\r\n\r\nexport const GameManager = (props) => {\r\n  const [ timeLeft, decTime, points, appState, setAppState, setGaugeRunning ] = useStore((state) => [\r\n    state.timeLeft,\r\n    state.decTime,\r\n    state.points,\r\n    state.appState,\r\n    state.setAppState,\r\n    state.setGaugeRunning,\r\n  ]);\r\n  useInterval(\r\n    () => {\r\n      if(appState === appStates.PLAYING){\r\n        decTime();\r\n        if(timeLeft <= 0.1){\r\n          setAppState(appStates.END);\r\n          setGaugeRunning(false);\r\n        }\r\n      }\r\n    },\r\n    100,\r\n  );\r\n  return (\r\n    <group position={[.5,3,0]}>\r\n      <Text\r\n        fontSize={.7}\r\n        color=\"black\" // default\r\n        anchorX=\"left\" // default\r\n        anchorY=\"bottom\" // default\r\n        outlineWidth={.05}\r\n        outlineColor=\"#ffffff\"\r\n      >\r\n        {`${timeLeft}\\n${points}`}\r\n      </Text>\r\n    </group>\r\n  );\r\n}","import { useRef, useEffect } from 'react';\r\nexport const useInterval = (callback, delay) => {\r\n  const savedCallback = useRef();\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  });\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      if (typeof savedCallback?.current !== 'undefined') {\r\n        savedCallback.current();\r\n      }\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n};","// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useLoader, useFrame } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\nimport { LoopOnce } from \"three\"\r\nimport { useStore } from './hooks/useStore';\r\nimport {char_idle, char_blockL, char_blockR} from './textures';\r\n\r\nlet streakCounter = 0;\r\n\r\nfunction BallIn({ ...props }) {\r\n  const group = useRef()\r\n  const [inc, gaugePosition, gaugeRunning, setGaugeColor, setRapidFire, rapidFire] = useStore((state) => [\r\n    state.inc,\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.setGaugeColor,\r\n    state.setRapidFire,\r\n    state.rapidFire\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimW.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    if(gaugeRunning && !rapidFire && gaugePosition === \"center\" && ballActive >= 0){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setGaugeColor('green');\r\n        setTimeout(function() { setGaugeColor('hotpink') }, 200);\r\n        setTimeout(function() { inc() }, 750);\r\n        streakCounter++;\r\n        if(streakCounter===2){\r\n          setGaugeColor('lightblue');\r\n          setTimeout(function() { setGaugeColor('lightblue') }, 201);\r\n          setRapidFire(true);\r\n          shotBuffering = false;\r\n          limitingShots = false;\r\n          setTimeout(function() { setRapidFire(false); streakCounter=0; limitingShots=true; }, 3000);\r\n        }\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh\r\n        name=\"ball\"\r\n        geometry={nodes.ball.geometry}\r\n        material={materials.ball}\r\n        rotation={[Math.PI / 2, Math.PI / 2, 0]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction BallOutL({ ...props }) {\r\n  const group = useRef()\r\n  const [gaugePosition, guageRunning, setGaugeColor, rapidFire, setCharTexture] = useStore((state) => [\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.setGaugeColor,\r\n    state.rapidFire,\r\n    state.setCharTexture\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnim3.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    // if(gaugePosition === \"center\" && props.toast === ballActive){\r\n      if(guageRunning && !rapidFire && gaugePosition === \"left\" && ballActive >= 0){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setGaugeColor('red');\r\n        setTimeout(function() { setGaugeColor('hotpink') }, 200);\r\n        setTimeout(function() { setCharTexture(char_blockL) }, 200);\r\n        setTimeout(function() { setCharTexture(char_idle) }, 400);\r\n        streakCounter=0;\r\n        // inc();\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group position={[-0.83, 28.21, 154.68]}>\r\n        <group rotation={[-0.02, 0, 0]} scale={[1, 1, 1]}>\r\n          <group rotation={[0, Math.PI / 2, 0]} />\r\n        </group>\r\n      </group>\r\n      <mesh\r\n        name=\"ball\"\r\n        material={materials.ball}\r\n        geometry={nodes.ball.geometry}\r\n        rotation={[-Math.PI / 2, -Math.PI / 2, 0]}\r\n        scale={[1, 1, 1]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction BallOutR({ ...props }) {\r\n  const group = useRef()\r\n  const [gaugePosition, guageRunning, setGaugeColor, rapidFire, setCharTexture] = useStore((state) => [\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.setGaugeColor,\r\n    state.rapidFire,\r\n    state.setCharTexture\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimLblock.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    // if(gaugePosition === \"center\" && props.toast === ballActive){\r\n      if(guageRunning && !rapidFire && gaugePosition === \"right\" && ballActive >= 0){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setGaugeColor('red');\r\n        setTimeout(function() { setGaugeColor('hotpink') }, 200);\r\n        setTimeout(function() { setCharTexture(char_blockR) }, 200);\r\n        setTimeout(function() { setCharTexture(char_idle) }, 400);\r\n        streakCounter=0;\r\n        // inc();\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group position={[-0.83, 28.21, 154.68]}>\r\n        <group rotation={[-0.02, 0, 0]} scale={[1, 1, 1]}>\r\n          <group rotation={[0, Math.PI / 2, 0]} />\r\n        </group>\r\n      </group>\r\n      <mesh\r\n        name=\"ball\"\r\n        material={materials.ball}\r\n        geometry={nodes.ball.geometry}\r\n        rotation={[-Math.PI / 2, -Math.PI / 2, 0]}\r\n        scale={[1, 1, 1]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\nfunction BallRapid({ ...props }) {\r\n  const group = useRef()\r\n  const [inc, rapidFire] = useStore((state) => [\r\n    state.inc,\r\n    state.rapidFire\r\n  ]);\r\n  const { nodes, materials, animations } = useLoader(GLTFLoader, \"/masketball_BallAnimW.glb\")\r\n  // const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[0], group.current) }\r\n    actions.current.idle.setLoop(LoopOnce)\r\n    // actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    \r\n    // console.log(gaugePosition);\r\n    if(rapidFire && ballActive === props.toast){\r\n        actions.current.idle.reset();\r\n        actions.current.idle.play();\r\n        ballActive = -1;\r\n        setTimeout(function() { inc() }, 750);\r\n    }\r\n    mixer.update(delta)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh\r\n        name=\"ball\"\r\n        geometry={nodes.ball.geometry}\r\n        material={materials.ball}\r\n        rotation={[Math.PI / 2, Math.PI / 2, 0]}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n\r\n\r\nlet ballNum = 0;\r\nlet ballActive = -1;\r\nconst ballIterations = 5;\r\n\r\nfunction RapidBalls(){\r\n  return new Array(ballIterations).fill().map((_, i) => {\r\n    return <BallRapid key={i} toast={i} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]}/>\r\n  })\r\n}\r\n\r\nlet limitingShots = true;\r\nlet shotBuffering = false;\r\n\r\nexport function Balls() {\r\n  const handleBrowsRaised = (event) => {\r\n      if(!shotBuffering){\r\n        ballActive = ballNum;\r\n        ballNum++;\r\n        if(ballNum>=ballIterations) ballNum = 0;\r\n        if(limitingShots){\r\n          shotBuffering=true;\r\n          setTimeout(function() { shotBuffering=false }, 1000);\r\n        } \r\n      }\r\n\r\n  };\r\n  React.useEffect(() => {\r\n    document.addEventListener('browsRaised', handleBrowsRaised);\r\n    return () => {\r\n      document.addEventListener('browsRaised', handleBrowsRaised);\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <BallOutL toast={0} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\r\n      <BallOutR toast={0} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\r\n      <BallIn toast={1} scale={[.1,.1,.1]} rotation={[0,Math.PI,0]} />\r\n      <RapidBalls />\r\n    </>\r\n  )\r\n  // return new Array(ballIterations).fill().map((_, i) => {\r\n  //   return <Ball key={i} toast={i} />\r\n  // })\r\n}","import React, { useRef, useState } from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport { useFrame } from 'react-three-fiber';\r\nimport { Circle, Plane } from '@react-three/drei';\r\n// import * as THREE from \"three\"\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nconst gaugePositions= {\r\n  LEFT: 'left',\r\n  CENTER: 'center',\r\n  RIGHT: 'right'\r\n}\r\n\r\nexport const Gauge = (props) => {\r\n  const [setGaugePosition, gaugePosition, gaugeRunning, gaugeColor, rapidFire] = useStore((state) => [\r\n    state.setGaugePosition,\r\n    state.gaugePosition,\r\n    state.gaugeRunning,\r\n    state.gaugeColor,\r\n    state.rapidFire\r\n  ]);\r\n  const ref = useRef();\r\n\r\n  useFrame((state) => {\r\n    if(gaugeRunning === true){\r\n      if(!rapidFire){\r\n        const time = state.clock.getElapsedTime();\r\n        ref.current = Math.sin(time*2);\r\n      }\r\n      else{\r\n        ref.current = 0;\r\n      }\r\n      if(gaugePosition!==gaugePositions.CENTER && ref.current>-.5 && ref.current<.5){\r\n        setGaugePosition(gaugePositions.CENTER);\r\n      } else if(gaugePosition!==gaugePositions.LEFT && ref.current>=.5){\r\n        setGaugePosition(gaugePositions.LEFT);\r\n      } else if(gaugePosition!==gaugePositions.RIGHT && ref.current<=-.5){\r\n        setGaugePosition(gaugePositions.RIGHT);\r\n      }\r\n    }\r\n  })\r\n\r\n\r\n  return (\r\n    <group ref={ref} position={[0,0,1]}>\r\n      <Circle args={[1.5, 16]}>\r\n        <Plane args={[.4, .4]} rotation={[0,0,.8]} position={[0,1.45,.1]} >\r\n          <meshBasicMaterial attach=\"material\" color={gaugeColor} />\r\n        </Plane>\r\n      </Circle>\r\n      <Circle args={[1.1, 16]} position={[0,0,.2]} rotation={[0,0,ref.current]}>\r\n        <meshBasicMaterial attach=\"material\" color=\"blue\" />\r\n        <Plane args={[.2, .2]} rotation={[0,0,.8]} position={[0,1.45,.1]} >\r\n          <meshBasicMaterial attach=\"material\" color=\"blue\" />\r\n        </Plane>\r\n      </Circle>\r\n    </group>\r\n  );\r\n}\r\n\r\n//1.2 to -1.2","export default __webpack_public_path__ + \"static/media/UI_Launch_BG.a0451e79.jpg\";","export default __webpack_public_path__ + \"static/media/UI_Launch_Inactive.78a02689.png\";","export default __webpack_public_path__ + \"static/media/UI_PlayAgain_Inactive.b3defc2e.png\";","import React from 'react';\r\nimport { useStore } from '../hooks/useStore';\r\nimport splash from '../images/UI_Launch_BG.jpg'\r\nimport launchButton from '../images/UI_Launch_Inactive.png'\r\nimport playAgainButton from '../images/UI_PlayAgain_Inactive.png'\r\n\r\n\r\n\r\nconst appStates= {\r\n  SPLASH: 'splash',\r\n  DIRECTIONS: 'directions',\r\n  COUNTDOWN: 'countdown',\r\n  PLAYING: 'playing',\r\n  END: 'end',\r\n  PHOTOTAKEN: 'phototaken'\r\n}\r\n\r\nexport const AppManager = (props) => {\r\n  const [setAppState, appState, setTimerRunning, resetTime, resetPoints, setGaugeRunning] = useStore((state) => [\r\n    state.setAppState,\r\n    state.appState,\r\n    state.setTimerRunning,\r\n    state.resetTime,\r\n    state.resetPoints,\r\n    state.setGaugeRunning,\r\n  ]);\r\n\r\n  const startGame = () =>{\r\n    // document.getElementById(\"splash\").style.display = \"hidden\";\r\n    setAppState(appStates.PLAYING);\r\n    resetTime();\r\n    resetPoints();\r\n    setTimerRunning(true);\r\n    setGaugeRunning(true);\r\n  }\r\n  if(appState === appStates.PLAYING){\r\n    return null;\r\n  } else if (appState === appStates.END){\r\n    return(\r\n      <div className=\"splash\">\r\n        <img className=\"button\" src={playAgainButton} alt=\"splash screen\" onClick={()=>startGame()}/>\r\n      </div> \r\n    )\r\n  }\r\n    return(\r\n      <div className=\"splash\">\r\n        <img src={splash} alt=\"splash screen\" />\r\n        <img className=\"button\" src={launchButton} alt=\"splash screen\" onClick={()=>startGame()}/>\r\n      </div>\r\n  )\r\n}","\r\nimport React, { useRef } from \"react\"\r\nimport { useLoader } from \"react-three-fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\n// import { useGLTF } from \"@react-three/drei\"\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nexport default function Model(props) {\r\n  const group = useRef()\r\n  // const { nodes, materials } = useGLTF(\"./masketball_Scene.glb\");\r\n  const { nodes, materials } = useLoader(GLTFLoader, \"./m_Scene.glb\");\r\n  \r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group position={[-0.11, 0.54, -3.87]} rotation={[Math.PI / 2, 0, Math.PI]} scale={[0.01, 0.01, 0.01]}>\r\n        <group position={[-10.26, -14.92, -52.54]} rotation={[0, 0, Math.PI]}>\r\n          <mesh geometry={nodes.Mesh002.geometry} material={materials.RoyalBlue} />\r\n          <mesh geometry={nodes.Mesh002_1.geometry} material={materials.White} />\r\n          <mesh geometry={nodes.Mesh002_2.geometry} material={materials.BG_logo} />\r\n        </group>\r\n        <group position={[-10.64, -12.98, -18.84]} rotation={[0, 0, -Math.PI / 2]}>\r\n          <mesh geometry={nodes.Mesh.geometry} material={materials.RoyalBlue} />\r\n          <mesh geometry={nodes.Mesh_1.geometry} material={materials['RoyalBlue.001']} />\r\n          <mesh geometry={nodes.net.geometry} material={materials.White} position={[30.09, 0, 7.31]} />\r\n        </group>\r\n      </group>\r\n      <mesh\r\n        geometry={nodes.floor.geometry}\r\n        material={materials.floor}\r\n        position={[0, -0.35, -1.76]}\r\n        rotation={[Math.PI / 2, 0, 0]}\r\n        scale={[0.01, 0.01, 0.01]}\r\n      />\r\n      <mesh\r\n        geometry={nodes.bg.geometry}\r\n        material={materials.bg}\r\n        position={[0, 1.19, -2.07]}\r\n        rotation={[Math.PI / 2, 0, 1.61]}\r\n        scale={[0.01, 0.01, 0.01]}\r\n      />\r\n    </group>\r\n  )\r\n}","import React, { useRef } from \"react\"\r\nimport { useTexture, useGLTF } from \"@react-three/drei\"\r\nimport { useStore } from '../hooks/useStore';\r\n// import * as textures from '../textures';\r\n// import { TextureLoader } from 'three/src/loaders/TextureLoader.js'\r\n\r\nexport default function Model(props) {\r\n  const [charTexture] = useStore((state) => [\r\n    state.charTexture\r\n  ]);\r\n  const group = useRef()\r\n  // const { nodes, materials } = useLoader(GLTFLoader, '/mblank_CharStill.glb');\r\n  const { nodes } = useGLTF(\"./mblank_CharStill.glb\");\r\n  // const [bL, id, bR] = useTexture(['/char_blockL.png','/char_idle.png','/char_blockR.png']);\r\n  // const textures=[bL,id,bR];\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <mesh geometry={nodes.char_idle.geometry} position={[0, 40.71, 274.33]} >\r\n       <meshStandardMaterial attach=\"material\" map={charTexture} transparent={true}/>\r\n      </mesh>\r\n      {/* <meshMatcapMaterial matcap={texture} attach=\"material\" /> */}\r\n    </group>\r\n  )\r\n}","import React, { Suspense } from 'react';\nimport { Canvas } from 'react-three-fiber';\nimport { OrbitControls } from \"@react-three/drei\";\n\nimport { KeyLight, FillLight, RimLight } from './components/lights';\nimport { GameManager } from './components/GameManager'\nimport { Balls } from './Ball'\nimport { Gauge } from './components/Gauge'\nimport { AppManager } from './components/AppManager'\nimport Scene from './components/Scene'\nimport Mascots from './components/Mascots'\n// import Mball from './Ball2'\n// import Mball3 from './Ball3'\n\nimport \"./index.css\";\n\n\nexport default function App() {\n  return (\n    <>\n      <AppManager />\n      <Canvas camera={{ position: [0,2,4] }} onCreated={({ camera }) => {camera.lookAt(0,2,0)}}>\n        <GameManager />\n        {/* <OrbitControls /> */}\n        <ambientLight intensity={0.5} />\n        <KeyLight brightness={5.6} color=\"#ffbdf4\" />\n        <FillLight brightness={2.6} color=\"#bdefff\" />\n        <RimLight brightness={54} color=\"#fff\" />\n        <Suspense fallback={null}>\n          <Balls />\n          <Scene scale={[10,10,10]} />\n          <Mascots scale={[.1,.1,.1]} rotation={[0,Math.PI,0]}/>\n          <Gauge />\n        </Suspense>\n      </Canvas>\n    </>\n  );\n}\n\n//scale={[.1,.1,.5]} rotation={[0,Math.PI,0]}","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {main} from './facetrack'\n\nimport App from \"./App\";\n\nmain();\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}